{% extends 'main/layout.html' %}

{% block title %}Новости{% endblock %}

{% block content %}
<div class="main-content">
    <div class="news-container">
        {% if news %}
            {% for el in news %}
            <div class="news-card">
                <div class="card-content">
                    <div class="news-header">
                        <h3 class="news-title">{{ el.title }}</h3>
                        <div class="news-meta">
                            <span class="news-author">{{ el.author|default:"AK" }}</span>
                            <span class="news-date">{{ el.date|date:"d.m.Y H:i" }}</span>
                        </div>
                    </div>
                    <a href="{% url 'news-detail' el.id %}" class="news-link">Перейти</a>
                </div>
            </div>
            {% endfor %}
            
            <div class="pagination-container">
                <span class="step-links">
                    {% if news.has_previous %}
                        <a href="?page=1" class="btn btn-outline-light">&laquo; первая</a>
                        <a href="?page={{ news.previous_page_number }}" class="btn btn-outline-light">предыдущая</a>
                    {% endif %}

                    <span class="current text-white">
                        Страница {{ news.number }} из {{ news.paginator.num_pages }}
                    </span>

                    {% if news.has_next %}
                        <a href="?page={{ news.next_page_number }}" class="btn btn-outline-light">следующая</a>
                        <a href="?page={{ news.paginator.num_pages }}" class="btn btn-outline-light">последняя &raquo;</a>
                    {% endif %}
                </span>
            </div>
        {% else %}
            <div class="alert alert-dark text-center">
                Нет доступных новостей
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}